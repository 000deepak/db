
## operators

| Operation           | Syntax                | Example                                                  | RDBMS Equivalent           |
|---------------------|-----------------------|----------------------------------------------------------|----------------------------|
| Equality            | `{<key>:<value>}`     | `db.myCollection1.find({"by":"tutorials point"}).pretty()` | `where by = 'tutorials point'` |
| Less Than           | `{<key>:{$lt:<value>}}` | `db.myCollection1.find({"likes":{$lt:50}}).pretty()`      | `where likes < 50`         |
| Less Than Equals    | `{<key>:{$lte:<value>}}` | `db.myCollection1.find({"likes":{$lte:50}}).pretty()`     | `where likes <= 50`        |
| Greater Than        | `{<key>:{$gt:<value>}}`  | `db.myCollection1.find({"likes":{$gt:50}}).pretty()`      | `where likes > 50`         |
| Greater Than Equals | `{<key>:{$gte:<value>}}` | `db.myCollection1.find({"likes":{$gte:50}}).pretty()`     | `where likes >= 50`        |
| Not Equals          | `{<key>:{$ne:<value>}}`  | `db.myCollection1.find({"likes":{$ne:50}}).pretty()`      | `where likes != 50`        |


## 1. find
The find() method is used to query documents from a collection. It returns a cursor to the documents that match the query criteria.

Syntax:
```js
db.collection.find(query, projection)
query: Specifies selection criteria using query operators.
projection: Specifies the fields to include or exclude (0 to exclude, 1 to include).
```
Example:
```js
db.users.find({ "age": { $gt: 25 } })
```
This finds all users whose age is greater than 25.

### findOne()
The findOne() method returns a single document that satisfies the query criteria.

Syntax:
```js
db.collection.findOne(query, projection)
query: Specifies selection criteria using query operators.
projection: Specifies the fields to include or exclude.
```

Example:
```js
db.users.findOne({ "username": "john_doe" })
//This finds the first user with the username "john_doe".
```

# 2. limit, skip, sort and count the results of the find() method
### limit: Restricts the number of documents returned by the query.
Example:
```js
db.users.find().limit(10)
//This limits the result to the first 10 documents.
```

### skip: Skips a specified number of documents in the query result.
Example:
```js
db.users.find().skip(5)
This skips the first 5 documents in the result set.
```

### sort: Sorts the query results by one or more fields.
Example:
```js
db.users.find().sort({ "age": -1 })
This sorts the results by age in descending order.
```

### count: Returns the count of documents that match the query criteria.
Example:
```js
db.users.find({ "age": { $gt: 25 } }).count()
This counts the number of users whose age is greater than 25.
```

# 3. Query Document â€“ Using AND, OR and IN Conditions
### AND Condition: By default, MongoDB combines multiple query conditions with an AND operation.

Example:
```js
db.users.find({ "age": { $gt: 25 }, "status": "active" })
This finds users whose age is greater than 25 and status is "active".
```

### OR Condition: Uses the $or operator to specify multiple conditions, at least one of which must be true.
Example:
```js
db.users.find({ $or: [{ "age": { $lt: 18 } }, { "status": "inactive" }] })
This finds users who are either younger than 18 or have an inactive status.
```

### IN Condition: Uses the $in operator to specify an array of possible values.
Example:
```js
db.users.find({ "status": { $in: ["active", "pending"] } })
This finds users whose status is either "active" or "pending".
```

# 4. find() method with Projection
Projection specifies which fields to return in the documents that match the query criteria. It can be used to include or exclude fields.

Syntax:
```js
db.collection.find(query, projection)
query: Specifies selection criteria using query operators.
projection: Specifies the fields to include (1) or exclude (0).
```

Example:
```js
db.users.find({ "age": { $gt: 25 } }, { "username": 1, "email": 1, "_id": 0 })
This finds users whose age is greater than 25 and returns only the username and email fields, excluding the _id field.
```

# Extra Examples
```js
- db.collection.find(query, projection)
db.myCollection1.find() 
//- print all

- db.myCollection1.find({});

- db.myCollection1.find({},{"title":1})           
//- _id field is displayed, even without selecting it with 1

- db.myCollection1.find({},{_id:0, "title":1})    
//- _id field is now not displayed

- db.myCollection1.find({"title" : "MongoDB Overview"})
- db.myCollection1.find({"title" : "MongoDB Overview"}).pretty()
- db.myCollection1.find({"likes":{$gte:20}}).pretty()
- db.myCollection1.find({"likes":{$gt:20}}).pretty()
- db.myCollection1.find({"by": "title1"}).pretty()	

db.myCollection1.find({},{"title":1,_id:0}).limit(2)            
//- limit to 1st 2 documents

db.myCollection1.find({},{"title":1,_id:0}).limit(2).skip(0)    
//- limit to 2, dont skip any - same as above - default value in skip() method is 0

db.myCollection1.find({},{"title":1,_id:0}).limit(1).skip(1)    
//- limit to 1, after skipping 1 - that is, print from 2nd document


db.myCollection1.find();
db.myCollection1.find({},{"title":1,_id:0}).sort({"title":1})
db.myCollection1.find({},{"title":1,_id:0}).sort({"title":-1})
```

## OR AND operators
### find with $or: []
```js
db.myCollection1.find(
	{
		$or: [
			{firstName: "fn2"},
			{firstName: "fn3"}
		]
	}
);
```

### find with $and: []
```js
db.myCollection1.find(
   {
	  $and: [
			{firstName: "fn1"},
			{lastName: "ln1"}
	- , {"likes" : 20.0},
	-   {"likes": 100}
	-   {key1: value1}, {key2:value2}
		]
   }
).pretty()
```



### find with $gt:nnn
```js
db.myCollection1.find(
{
	age:{
		{$lt: 40}
	}
}
);
```

## find within an object ("obj1.field1": '') 
> NOTE: double quotes for object is must
```js
db.myCollection1.find({"address.city": "boston"});
```

## find within an array ("array1": 'arrayval1') 
>NOTE: double quotes for object is must
```js
db.myCollection1.find({"array1": "arrayval1"});
```

### sort ascending by a field
```js
db.myCollection1.find().sort(
{"firstName": 1}
);
```

### sort descending by a field
```js
db.myCollection1.find().sort(
{"firstName": -1}
);
```

### count()
```js
db.myCollection1.find().count();
```

### limit(nnn) & 1st nnn
```js
db.myCollection1.find().limit(4)
```

### limit(nnn) 1st nnn & sort
```js
db.myCollection1.find().limit(4).sort({"firstName": 1});
```


### limit(nnn) 1st nnn & sort
```js
db.myCollection1.find().forEach(function(doc) { print("Customer name: " + doc.firstName) });
```

# Embedded Documents
Query documents inside embedded documents using dot notation.

```javascript
db.collection.find({ "parent.child": value })
```

## $all vs $elemMatch
- The $all operator selects the documents where the value of a field is an array that contains all the specified elements.
```js
{ <field>: { $all: [ <value1>, <value2>, ... ] } }
```

- The $elemMatch operator matches documents that contain an array field with at least one element that matches all the specified query criteria.
```js
{ <field>: { $elemMatch: { <query1>, <query2>, ... } } }
```

# Projection
```javascript
db.collection.find({}, { field1: 1, field2: 1 })
```
- To include specific fields, use projection with a value of 1 for the fields you want.
- To exclude fields, use projection with a value of 0 for the fields you want to exclude.
- You cannot include and exclude fields simultaneously in the same query projection.
